!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var i in r)("object"==typeof exports?exports:t)[i]=r[i]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(n,this,e),this.length=this._features.length}function n(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(s(r))}function s(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}var o=r(2);t.exports=i,i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new o(this._pbf,e,this.extent,this._keys,this._values)}},function(t,e,r){"use strict";function i(t,e,r,i,s){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=s,t.readFields(n,this,e)}function n(t,e,r){1==t?e._id=r.readVarint():2==t?s(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function s(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var i=e._keys[t.readVarint()],n=e._values[t.readVarint()];e.properties[i]=n}}var o=r(9);t.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,i=1,n=0,s=0,a=0,h=[];t.pos<r;){if(!n){var u=t.readVarint();i=7&u,n=u>>3}if(n--,1===i||2===i)s+=t.readSVarint(),a+=t.readSVarint(),1===i&&(e&&h.push(e),e=[]),e.push(new o(s,a));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&h.push(e),h},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,i=0,n=0,s=0,o=1/0,a=-1/0,h=1/0,u=-1/0;t.pos<e;){if(!i){var f=t.readVarint();r=7&f,i=f>>3}if(i--,1===r||2===r)n+=t.readSVarint(),s+=t.readSVarint(),n<o&&(o=n),n>a&&(a=n),s<h&&(h=s),s>u&&(u=s);else if(7!==r)throw new Error("unknown command "+r)}return[o,h,a,u]},i.prototype.toGeoJSON=function(t,e,r){for(var n=this.extent*Math.pow(2,r),s=this.extent*t,o=this.extent*e,a=this.loadGeometry(),h=i.types[this.type],u=0;u<a.length;u++)for(var f=a[u],c=0;c<f.length;c++){var l=f[c],p=180-360*(l.y+o)/n;f[c]=[360*(l.x+s)/n-180,360/Math.PI*Math.atan(Math.exp(p*Math.PI/180))-90]}return"Point"===h&&1===a.length?a=a[0][0]:"Point"===h?(a=a[0],h="MultiPoint"):"LineString"===h&&1===a.length?a=a[0]:"LineString"===h&&(h="MultiLineString"),{type:"Feature",geometry:{type:h,coordinates:a},properties:this.properties}}},function(t,e,r){"use strict";function i(t,e){var r=document.createElement("canvas");r.width=t.width,r.height=t.height,r.cssText="width:"+t.width+"px;height:"+t.height+"px";var i=r.getContext("2d");i.fillStyle="#E6E4E0",i.fillRect(0,0,r.width,r.height),i.restore();var n={building:1,road:1,water:1,landuse:1,airport_label:1};return e.forEach(function(t){var e=t.layer;if(n[e]){if("water"==e&&(i.strokeStyle=i.fillStyle="#75CFF0"),"building"===e&&(i.strokeStyle=i.fillStyle="gray"),"landuse"===e&&(i.fillStyle=i.strokeStyle="#B6E59E"),"waterway"===e&&(i.strokeStyle="red",i.lineWidth=3),"airport_label"===e){var r=new Image;r.src="assets/icons/airport-15.svg",r.width=r.height=40,t.img=r,i.fillStyle="red"}"road"===e&&(i.strokeStyle="#FFA45C",i.lineWidth=2),a.render(t,i)}}),i.restore(),r.toDataURL("image/png")}var n=r(4),s=r(7).VectorTile,o=r(10),a=r(17),h={},u=new maptalks.TileLayer("base",{urlTemplate:"http://a.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejh2N21nMzAxMmQzMnA5emRyN2lucW0ifQ.jSE-g2vsn48Ry928pqylcg",subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.osm.org" target="_blank">OpenStreetMap</a> contributors'});u.getTileUrl=function(t,e,r){return maptalks.TileLayer.prototype.getTileUrl.call(this,t,e,r)+"&x="+t+"&y="+e+"&z="+r},u.on("renderercreate",function(t){t.renderer.loadTileImage=function(t,e){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var u=o.parse(e,!0).query,f=u.x,c=u.y,l=u.z,p="https://b.tiles.mapbox.com/v4/mapbox.mapbox-terrain-v2,mapbox.mapbox-streets-v7/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA".replace("{x}",f).replace("{y}",c).replace("{z}",l);fetch(p,{mode:"cors"}).then(function(t){return t.arrayBuffer()}).then(function(e){var o=new n(e),u=new s(o),f=u.layers,c=[];for(var l in f)if("boundaries"!==l&&"earth"!==l){h[l]=l;for(var p=f[l],d=p.length,v=0;v<d;v++){var y=p.feature(v);y.geojson=y.loadGeometry(),y.xy=a.transformXY(y.geojson,y.extent/256),y.layer=l,c.push(y)}}var g=i(r,c);t.src=g})},r.src=e}});var f=new maptalks.Map("map",{center:[120.34,31.309622415877158],zoom:11,baseLayer:u});f.on("zoomend",function(t){c.clear()});var c=new maptalks.VectorLayer("vector");f.addLayer(c)},function(t,e,r){"use strict";(function(e){function i(t){this.buf=p.isBuffer(t)?t:new p(t||0),this.pos=0,this.length=this.buf.length}function n(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function s(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function o(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function a(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function h(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function u(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function c(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}t.exports=i;var p=e.Buffer||r(5);i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var d=Math.pow(2,63);i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var i=this.readVarint(),n=i>>3,s=this.pos;t(n,e,this),this.pos===s&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+4294967296*this.buf.readUInt32LE(this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+4294967296*this.buf.readInt32LE(this.pos+4);return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,r,i,n,s,o=this.buf;if((r=o[this.pos++])<128)return r;if(r&=127,(i=o[this.pos++])<128)return r|i<<7;if(i=(127&i)<<7,(n=o[this.pos++])<128)return r|i|n<<14;if(n=(127&n)<<14,(s=o[this.pos++])<128)return r|i|n|s<<21;if(t=r|i|n|(127&s)<<21,e=o[this.pos++],t+=268435456*(127&e),e<128)return t;if(e=o[this.pos++],t+=34359738368*(127&e),e<128)return t;if(e=o[this.pos++],t+=4398046511104*(127&e),e<128)return t;if(e=o[this.pos++],t+=562949953421312*(127&e),e<128)return t;if(e=o[this.pos++],t+=72057594037927940*(127&e),e<128)return t;if(e=o[this.pos++],t+=0x8000000000000000*(127&e),e<128)return t;throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<d)return e;for(var r=this.pos-2;255===this.buf[r];)r--;r<t&&(r=t),e=0;for(var i=0;i<r-t+1;i++){var n=127&~this.buf[t+i];e+=i<4?n<<7*i:n*Math.pow(2,7*i)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new p(e);this.buf.copy(r),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){if((t=+t)<=127)this.realloc(1),this.buf[this.pos++]=t;else if(t<=16383)this.realloc(2),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127;else if(t<=2097151)this.realloc(3),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127;else if(t<=268435455)this.realloc(4),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127|128,this.buf[this.pos++]=t>>>21&127;else{for(var e=this.pos;t>=128;)this.realloc(1),this.buf[this.pos++]=255&t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-e>10)throw new Error("Given varint doesn't fit into 10 bytes")}},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=p.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var i=this.pos-r,n=i<=127?1:i<=16383?2:i<=2097151?3:i<=268435455?4:Math.ceil(Math.log(i)/(7*Math.LN2));if(n>1){this.realloc(n-1);for(var s=this.pos-1;s>=r;s--)this.buf[s+n-1]=this.buf[s]}this.pos=r-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,r){this.writeTag(t,i.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){this.writeMessage(t,n,e)},writePackedSVarint:function(t,e){this.writeMessage(t,s,e)},writePackedBoolean:function(t,e){this.writeMessage(t,h,e)},writePackedFloat:function(t,e){this.writeMessage(t,o,e)},writePackedDouble:function(t,e){this.writeMessage(t,a,e)},writePackedFixed32:function(t,e){this.writeMessage(t,u,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedFixed64:function(t,e){this.writeMessage(t,c,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,l,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(e,r(0))},function(t,e,r){"use strict";function i(t){var e;t&&t.length&&(e=t,t=e.length);var r=new Uint8Array(t||0);return e&&r.set(e),r.readUInt32LE=s.readUInt32LE,r.writeUInt32LE=s.writeUInt32LE,r.readInt32LE=s.readInt32LE,r.writeInt32LE=s.writeInt32LE,r.readFloatLE=s.readFloatLE,r.writeFloatLE=s.writeFloatLE,r.readDoubleLE=s.readDoubleLE,r.writeDoubleLE=s.writeDoubleLE,r.toString=s.toString,r.write=s.write,r.slice=s.slice,r.copy=s.copy,r._isBuffer=!0,r}function n(t){for(var e,r,i=t.length,n=[],s=0;s<i;s++){if((e=t.charCodeAt(s))>55295&&e<57344){if(!r){e>56319||s+1===i?n.push(239,191,189):r=e;continue}if(e<56320){n.push(239,191,189),r=e;continue}e=r-55296<<10|e-56320|65536,r=null}else r&&(n.push(239,191,189),r=null);e<128?n.push(e):e<2048?n.push(e>>6|192,63&e|128):e<65536?n.push(e>>12|224,e>>6&63|128,63&e|128):n.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return n}t.exports=i;var s,o,a,h=r(6);s={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return h.read(this,t,!0,23,4)},readDoubleLE:function(t){return h.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return h.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return h.write(this,t,e,!0,52,8)},toString:function(t,e,r){var i="",n="";e=e||0,r=Math.min(this.length,r||this.length);for(var s=e;s<r;s++){var o=this[s];o<=127?(i+=decodeURIComponent(n)+String.fromCharCode(o),n=""):n+="%"+o.toString(16)}return i+=decodeURIComponent(n)},write:function(t,e){for(var r=t===o?a:n(t),i=0;i<r.length;i++)this[e+i]=r[i]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var r=0;r<this.length;r++)t[e+r]=this[r]}},s.writeInt32LE=s.writeUInt32LE,i.byteLength=function(t){return o=t,a=n(t),a.length},i.isBuffer=function(t){return!(!t||!t._isBuffer)}},function(t,e){e.read=function(t,e,r,i,n){var s,o,a=8*n-i-1,h=(1<<a)-1,u=h>>1,f=-7,c=r?n-1:0,l=r?-1:1,p=t[e+c];for(c+=l,s=p&(1<<-f)-1,p>>=-f,f+=a;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=i;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-u;else{if(s===h)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),s-=u}return(p?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,r,i,n,s){var o,a,h,u=8*s-n-1,f=(1<<u)-1,c=f>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,d=i?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),e+=o+c>=1?l/h:l*Math.pow(2,1-c),e*h>=2&&(o++,h/=2),o+c>=f?(a=0,o=f):o+c>=1?(a=(e*h-1)*Math.pow(2,n),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,n),o=0));n>=8;t[r+p]=255&a,p+=d,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;t[r+p]=255&o,p+=d,o/=256,u-=8);t[r+p-d]|=128*v}},function(t,e,r){t.exports.VectorTile=r(8),t.exports.VectorTileFeature=r(2),t.exports.VectorTileLayer=r(1)},function(t,e,r){"use strict";function i(t,e){this.layers=t.readFields(n,{},e)}function n(t,e,r){if(3===t){var i=new s(r,r.readVarint()+r.pos);i.length&&(e[i.name]=i)}}var s=r(1);t.exports=i},function(t,e,r){"use strict";function i(t,e){this.x=t,this.y=e}t.exports=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),i=e*this.x-r*this.y,n=r*this.x+e*this.y;return this.x=i,this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},function(t,e,r){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(t,e,r){if(t&&u.isObject(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}function s(t){return u.isString(t)&&(t=n(t)),t instanceof i?t.format():i.prototype.format.call(t)}function o(t,e){return n(t,!1,!0).resolve(e)}function a(t,e){return t?n(t,!1,!0).resolveObject(e):e}var h=r(11),u=r(13);e.parse=n,e.resolve=o,e.resolveObject=a,e.format=s,e.Url=i;var f=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(d),y=["%","/","?",";","#"].concat(v),g=["/","?","#"],w=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},F={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=r(14);i.prototype.parse=function(t,e,r){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=-1!==i&&i<t.indexOf("#")?"?":"#",s=t.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(n);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var c=l.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],this.query=e?S.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=f.exec(a);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,a=a.substr(p.length)}if(r||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var V="//"===a.substr(0,2);!V||p&&x[p]||(a=a.substr(2),this.slashes=!0)}if(!x[p]&&(V||p&&!F[p])){for(var E=-1,M=0;M<g.length;M++){var I=a.indexOf(g[M]);-1!==I&&(-1===E||I<E)&&(E=I)}var _,L;L=-1===E?a.lastIndexOf("@"):a.lastIndexOf("@",E),-1!==L&&(_=a.slice(0,L),a=a.slice(L+1),this.auth=decodeURIComponent(_)),E=-1;for(var M=0;M<y.length;M++){var I=a.indexOf(y[M]);-1!==I&&(-1===E||I<E)&&(E=I)}-1===E&&(E=a.length),this.host=a.slice(0,E),a=a.slice(E),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var k=this.hostname.split(/\./),M=0,O=k.length;M<O;M++){var P=k[M];if(P&&!P.match(w)){for(var A="",U=0,T=P.length;U<T;U++)P.charCodeAt(U)>127?A+="x":A+=P[U];if(!A.match(w)){var C=k.slice(0,M),B=k.slice(M+1),q=P.match(m);q&&(C.push(q[1]),B.unshift(q[2])),B.length&&(a="/"+B.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=h.toASCII(this.hostname));var N=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+N,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!b[d])for(var M=0,O=v.length;M<O;M++){var R=v[M];if(-1!==a.indexOf(R)){var z=encodeURIComponent(R);z===R&&(z=escape(R)),a=a.split(R).join(z)}}var W=a.indexOf("#");-1!==W&&(this.hash=a.substr(W),a=a.slice(0,W));var Y=a.indexOf("?");if(-1!==Y?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=S.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),F[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",G=this.search||"";this.path=N+G}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(s=S.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||F[e])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),e+n+r+o+i},i.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(u.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),h=0;h<a.length;h++){var f=a[h];"protocol"!==f&&(r[f]=t[f])}return F[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!F[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var p=c[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||x[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=w||g||r.host&&t.pathname,b=m,S=r.pathname&&r.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],V=r.protocol&&!F[r.protocol];if(V&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),m=m&&(""===d[0]||""===S[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=t.search,r.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(V){r.hostname=r.host=S.shift();var E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");E&&(r.auth=E.shift(),r.host=r.hostname=E.shift())}return r.search=t.search,r.query=t.query,u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=S.slice(-1)[0],I=(r.host||t.host||S.length>1)&&("."===M||".."===M)||""===M,_=0,L=S.length;L>=0;L--)M=S[L],"."===M?S.splice(L,1):".."===M?(S.splice(L,1),_++):_&&(S.splice(L,1),_--);if(!m&&!b)for(;_--;_)S.unshift("..");!m||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),I&&"/"!==S.join("/").substr(-1)&&S.push("");var j=""===S[0]||S[0]&&"/"===S[0].charAt(0);if(V){r.hostname=r.host=j?"":S.length?S.shift():"";var E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");E&&(r.auth=E.shift(),r.host=r.hostname=E.shift())}return m=m||r.host&&S.length,m&&!j&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){(function(t,i){var n;!function(s){function o(t){throw new RangeError(O[t])}function a(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function h(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),t=t.replace(k,"."),i+a(t.split("."),e).join(".")}function u(t){for(var e,r,i=[],n=0,s=t.length;n<s;)e=t.charCodeAt(n++),e>=55296&&e<=56319&&n<s?(r=t.charCodeAt(n++),56320==(64512&r)?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--)):i.push(e);return i}function f(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=U(t>>>10&1023|55296),t=56320|1023&t),e+=U(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,r){var i=0;for(t=r?A(t/E):t>>1,t+=A(t/e);t>P*S>>1;i+=x)t=A(t/P);return A(i+(P+1)*t/(t+V))}function d(t){var e,r,i,n,s,a,h,u,l,d,v=[],y=t.length,g=0,w=I,m=M;for(r=t.lastIndexOf(_),r<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&o("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(s=g,a=1,h=x;n>=y&&o("invalid-input"),u=c(t.charCodeAt(n++)),(u>=x||u>A((b-g)/a))&&o("overflow"),g+=u*a,l=h<=m?F:h>=m+S?S:h-m,!(u<l);h+=x)d=x-l,a>A(b/d)&&o("overflow"),a*=d;e=v.length+1,m=p(g-s,e,0==s),A(g/e)>b-w&&o("overflow"),w+=A(g/e),g%=e,v.splice(g++,0,w)}return f(v)}function v(t){var e,r,i,n,s,a,h,f,c,d,v,y,g,w,m,V=[];for(t=u(t),y=t.length,e=I,r=0,s=M,a=0;a<y;++a)(v=t[a])<128&&V.push(U(v));for(i=n=V.length,n&&V.push(_);i<y;){for(h=b,a=0;a<y;++a)(v=t[a])>=e&&v<h&&(h=v);for(g=i+1,h-e>A((b-r)/g)&&o("overflow"),r+=(h-e)*g,e=h,a=0;a<y;++a)if(v=t[a],v<e&&++r>b&&o("overflow"),v==e){for(f=r,c=x;d=c<=s?F:c>=s+S?S:c-s,!(f<d);c+=x)m=f-d,w=x-d,V.push(U(l(d+m%w,0))),f=A(m/w);V.push(U(l(f,0))),s=p(r,g,i==n),r=0,++i}++r,++e}return V.join("")}function y(t){return h(t,function(t){return L.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return h(t,function(t){return j.test(t)?"xn--"+v(t):t})}var w=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof i&&i);var m,b=2147483647,x=36,F=1,S=26,V=38,E=700,M=72,I=128,_="-",L=/^xn--/,j=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=x-F,A=Math.floor,U=String.fromCharCode;m={version:"1.4.1",ucs2:{decode:u,encode:f},decode:d,encode:v,toASCII:g,toUnicode:y},void 0!==(n=function(){return m}.call(e,r,e,t))&&(t.exports=n)}()}).call(e,r(12)(t),r(0))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(15),e.encode=e.stringify=r(16)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,s){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var f=0;f<u;++f){var c,l,p,d,v=t[f].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),l=v.substr(y+1)):(c=v,l=""),p=decodeURIComponent(c),d=decodeURIComponent(l),i(o,p)?n(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function i(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(o(t),function(o){var a=encodeURIComponent(n(o))+r;return s(t[o])?i(t[o],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[o]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function i(t,e){if(t.x)return[t.x/e,t.y/e];var r=[];return t.forEach(function(t){if(Array.isArray(t)){var i=[];t.forEach(function(t){i.push([t.x/e,t.y/e])}),r.push(i)}else r.push([t.x/e,t.y/e])}),r}function n(t,e){1==t.type&&s(t,e),2==t.type&&o(t.xy,e),3==t.type&&a(t.xy,e)}function s(t,e){var r=t.img,i=t.xy[0][0],n=i[0],s=i[1];if(r){var o=r.width,a=r.height;e.drawImage(r,n-o/2,s-a/2,o,a),e.restore()}var h=t.properties||{},u=h.name;if(u){var f=e.measureText(u).width;e.fillText(u,n-f/2,s),e.restore()}}function o(t,e){var r=[];t.length>1?t.forEach(function(t){r.push(t)}):r.push(t),r.forEach(function(t){e.save(),e.beginPath();for(var r=0;r<t.length;r++){var i=t[r][0],n=t[r][1];0==r?e.moveTo(i,n):e.lineTo(i,n)}e.stroke(),e.restore()})}function a(t,e){var r=t,i=r[0];e.save(),e.beginPath();for(var n=0;n<i.length;n++){var s=i[n][0],o=i[n][1];0==n?e.moveTo(s,o):e.lineTo(s,o)}if(e.closePath(),1==r.length)e.fill(),e.stroke();else{for(var a=1;a<r.length;a++){for(var h=r[a],u=0;u<h.length;u++){var f=h[u][0],c=h[u][1];0==u?e.moveTo(f,c):e.lineTo(f,c)}e.closePath()}e.fill("evenodd"),e.stroke()}e.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.transformXY=i,e.render=n,e.renderPoint=s,e.renderLine=o,e.renderPolygon=a}])});